# Orchestration Log: Strausz Spike #68

**Timestamp:** 2026-02-21T0449  
**Agent:** Strausz (VS Code Extension Expert)  
**Mode:** Background  
**Status:** ✅ Completed

## Work Summary

Executed platform surface compatibility research for SDK replatforming (CLI vs VS Code).

### Spike #68: Platform Surface Differences

**Key Findings:**

1. **CustomAgentConfig is CLI-only**
   - Passed to `CopilotClient.createSession()` (SDK feature)
   - VS Code uses native language model APIs, not CopilotClient
   - VS Code agents defined via `.github/agents/*.agent.md` files with frontmatter

2. **SDK spawns CLI subprocess**
   - Default transport: stdio pipes
   - Alternative transport: TCP socket
   - Extension host cannot spawn processes or use stdio pipes

3. **MCP tool inheritance differs**
   - CLI: Sub-agents do NOT inherit parent's MCP tools (isolated)
   - VS Code: Sub-agents inherit ALL parent tools by default

4. **Model selection mechanisms differ**
   - CLI: Per-spawn dynamic via SessionConfig.model
   - VS Code Phase 1: Session model only (user picker)
   - VS Code Phase 2: Static `.agent.md` frontmatter (experimental)

**Recommendation:** Dual Implementation (Option A)
- **CLI path:** Use SDK with CustomAgentConfig; dynamic roster from `.ai-team/team.md`
- **VS Code path:** Use `.agent.md` files (current approach); static frontmatter config
- **Shared state:** Both paths read/write `.ai-team/` files (decisions, routing, roster)

**Feature Degradation on VS Code:**
- Per-spawn model selection: ⚠️ Session model only (accept limitation)
- Fire-and-forget mode: ❌ Not available (batch Scribe as last subagent)
- SQL tool: ❌ Not available (avoid in cross-platform paths)

## Decision Created

Decision file merged to `.ai-team/decisions.md`:
- `strausz-platform-compat.md`

## Key Outcomes

- Platform constraints catalogued; no blocking issues identified
- Dual implementation strategy preserves multi-platform promise
- Shared state architecture (.ai-team/) enables cross-platform coordination
- Feature degradation is acceptable and documented

---

**End of Log**
