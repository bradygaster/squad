# 2026-02-20T16:53 — Verbal (Prompt Engineer)

**Agent:** Verbal  
**Mode:** background  
**Outcome:** completed  

## Work Summary

Wrote 4 PRDs for the SDK Replatform documentation sprint:
- `04-agent-session-lifecycle.md` — PRD 4: Charters compile to CustomAgentConfig. Dynamic context via onSessionStart hook + systemMessage. Persistent sessions for core agents, on-demand for specialists. Response modes (lightweight/standard/full) map to SessionConfig profiles.
- `07-skills-migration.md` — PRD 7: Skills load via SDK skillDirectories at session creation. manifest.json adds confidence/authorship metadata. Confidence lifecycle: low → medium → high.
- `11-casting-system-v2.md` — PRD 11: Casting becomes typed TypeScript module. Universe selection deterministic (alphabetical tiebreak). Names immutable (append-only registry). Three-phase migration from JSON to TypeScript. 100% test coverage.
- `13-a2a-agent-communication.md` — PRD 13: Hub-and-spoke (coordinator as broker). Two tools: squad_discover + squad_route. Synchronous handoffs via sendAndWait(). Rate limiting + circular route detection.

## Key Decisions

1. **Session lifecycle:** CustomAgentConfig compilation at spawn time. Response modes map to SessionConfig profiles. resumeSession() for crash recovery. Infinite sessions for long-running work.
2. **Skills with confidence:** Low → medium (2+ uses) → high (5+ uses). Imported skills start at low per security policy.
3. **Casting v2:** Typed TypeScript module. Deterministic universe selection. Immutable names. Three-phase migration. 100% test coverage.
4. **A2A communication:** NOT Google protocol — Squad agents are same-team. Hub-and-spoke via coordinator. Synchronous handoffs.

## Pending Decisions (Need Brady Input)

- Session ID format (stable vs. timestamped)?
- Idle timeout duration?
- Session pool max size?
- Skill promotion timing (team load vs. session idle)?
- Skill content size limits?
- Character trait depth + personality influence on output?
- Multi-universe teams support?
- Rate limit tuning for A2A?
- Multi-agent conversations in A2A?

## Dependency Graph

All four PRDs depend on **PRD 4 (session lifecycle)** shipping first. **PRD 13 (A2A)** is Phase 3 — only built after Phases 1-2 prove SDK sessions work.

## Status

PRDs **Draft** — ready for team review and Brady input.
